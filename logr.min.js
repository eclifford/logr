/*! logr.js - v0.1.1 - eclifford <ericgclifford@gmail.com> - 2014-10-01 */!function(a,b){"function"==typeof define&&define.amd?define([],function(){return a.Logr=b(a)}):"undefined"!=typeof exports?module.exports=b(a):a.Logr=b(a)}(this,function(a){"use strict";function b(a){for(var b,c,d=1,e=arguments.length;e>d;d++){b=arguments[d];for(c in b)hasOwnProperty.call(b,c)&&(a[c]=b[c])}return a}var c={version:"0.1.1",logs:{},defaults:{level:1,time:!0},levels:{DEBUG:1,INFO:2,WARN:3,ERROR:4,NONE:9},setLevel:function(a){if(!a||isNaN(a))throw Error("Logr.setLevel: provide a valid number for the level to set");for(var b in c.logs)c.logs[b].setLevel(a)},log:function(a,b){if(!a)throw Error("Logr.log: provide the name of the log to create or get");return c.logs[a]||(c.logs[a]=new d(a,b||{})),c.logs[a]}},d=function(a,d){if(!a)throw new Error("Logr.log: logname is required");this.logname=a,b(this,c.defaults,d||{})};return d.prototype.debug=function(b){a.console&&a.console.debug&&this.getLevel()<=c.levels.DEBUG&&a.console.debug("["+this.logname+"] "+b,[].slice.call(arguments).splice(1,1))},d.prototype.info=function(b){a.console&&a.console.info&&this.getLevel()<=c.levels.INFO&&a.console.info("["+this.logname+"] "+b,[].slice.call(arguments).splice(1,1))},d.prototype.warn=function(b){a.console&&a.console.warn&&this.getLevel()<=c.levels.WARN&&console.warn("["+this.logname+"] "+b,[].slice.call(arguments).splice(1,1))},d.prototype.error=function(b){a.console&&a.console.error&&this.getLevel()<=c.levels.ERROR&&console.error("["+this.logname+"] "+b,[].slice.call(arguments).splice(1,1))},d.prototype.setLevel=function(b){a.sessionStorage&&a.sessionStorage.setItem("logr:"+this.logname+":level",b)},d.prototype.getLevel=function(){return a.sessionStorage?a.sessionStorage.getItem("logr:"+this.logname+":level")||this.level:this.level},d.prototype.attach=function(b){var d,e,f,g=this;if(a.console&&a.console.group)for(d in b)if(null!==b&&"[object Object]"===Object.prototype.toString.call(b[d]))this.attach(b[d]);else if("function"==typeof b[d]){e=b[d];var h=0;b[d]=function(b,d){return function(){if(g.getLevel()<=c.levels.DEBUG){a.console.groupCollapsed("["+g.logname+"] "+b+"()",[].slice.call(arguments)),h++,g.time&&a.console.time("time");try{f=d.apply(this,arguments)}catch(e){for(;h--;)a.console.groupEnd();return void a.console.error(e.stack)}return f&&a.console.debug("return: ",f),g.time&&a.console.timeEnd("time"),a.console.groupEnd(),h--,f}return d.apply(this,arguments)}}(d,e)}},c});