/*! logr.js - v0.1.4 - eclifford <ericgclifford@gmail.com> - 2015-01-28 */!function(a,b){"function"==typeof define&&define.amd?define([],function(){return a.Logr=b(a)}):"undefined"!=typeof exports?module.exports=b(a):a.Logr=b(a)}(this,function(a){function b(a){for(var b,c,d=1,e=arguments.length;e>d;d++){b=arguments[d];for(c in b)hasOwnProperty.call(b,c)&&(a[c]=b[c])}return a}var c={version:"0.1.4",logs:{},defaults:{level:1},levels:{DEBUG:1,INFO:2,WARN:3,ERROR:4,NONE:9},setLevel:function(a){if(isNaN(a))throw new Error("Logr.setLevel(): expects parameter level of type Number");for(var b in c.logs)c.logs[b].setLevel(a)},log:function(a,b){if("string"!=typeof a)throw new Error("Logr.log(): expects parameter logname of type String");return c.logs[a]||(c.logs[a]=new d(a,b||{})),c.logs[a]}},d=function(a,d){if("string"!=typeof a)throw new Error("Logr.Log: expects parameter logname of type String");this.logname=a,b(this,c.defaults,d||{}),this.init()};return d.prototype.init=function(){for(var b=["trace","debug","warn","info","error"],d=function(){},e=0;e<b.length;e++)this[b[e]]=a.console&&a.console.bind&&a.console[b[e]]&&this.getLevel()<=c.levels[b[e].toUpperCase()]?console[b[e]].bind(console,"["+this.logname+"]"):d},d.prototype.setLevel=function(b){a.sessionStorage&&a.sessionStorage.setItem("logr:"+this.logname+":level",b),this.level=b},d.prototype.getLevel=function(){return a.sessionStorage?a.sessionStorage.getItem("logr:"+this.logname+":level")||this.level:this.level},d.prototype.attach=function(b){var c,d=this;if(a.console&&a.console.group)for(c in b)b.hasOwnProperty(c)&&"function"==typeof b[c]&&"constructor"!==c&&d.wrap(b,c)},d.prototype.processException=function(a){return a.stack&&!a.fileName?(a.stack+"\n").replace(/^[\s\S]+?\s+at\s+/," at ").replace(/^\s+(at eval )?at\s+/gm,"").replace(/^([^\(]+?)([\n$])/gm,"{anonymous}() ($1)$2").replace(/^Object.<anonymous>\s*\(([^\)]+)\)/gm,"{anonymous}() ($1)").replace(/^(.+) \((.+)\)$/gm,"$1@$2").split("\n").slice(0,-1):a.stack&&a.fileName?a.stack.replace(/(?:\n@:0)?\s+$/m,"").replace(/^(?:\((\S*)\))?@/gm,"{anonymous}($1)@").split("\n"):void 0},d.prototype.wrap=function(b,d){var e,f=this;e=b[d],b[d]=function(){var b=[];if(f.getLevel()<=c.levels.DEBUG){try{this.undef()}catch(d){b=f.processException(d)}try{a.console.groupCollapsed("["+f.logname+"] "+b[1],[].slice.call(arguments)),value=e.apply(this,arguments)}catch(d){for(var g=15;g--;)a.console.groupEnd();return void a.console.error(d.stack)}return a.console.info("arguments",[].slice.call(arguments)),value&&a.console.info("return: ",value),a.console.groupEnd(),value}return e.apply(this,arguments)}},c});