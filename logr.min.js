/*! logr.js - v0.1.6 - eclifford <ericgclifford@gmail.com> - 2015-02-03 */!function(a,b){"function"==typeof define&&define.amd?define([],function(){return a.Logr=b(a)}):"undefined"!=typeof exports?module.exports=b(a):a.Logr=b(a)}(this,function(a){function b(a){for(var b,c,d=1,e=arguments.length;e>d;d++){b=arguments[d];for(c in b)hasOwnProperty.call(b,c)&&(a[c]=b[c])}return a}var c={version:"0.1.6",logs:{},defaults:{level:1},levels:{DEBUG:1,INFO:2,WARN:3,ERROR:4,NONE:9},setLevel:function(a){if(isNaN(a))throw new Error("Logr.setLevel(): expects parameter level of type Number");for(var b in c.logs)c.logs[b].setLevel(a)},log:function(a,b){if("string"!=typeof a)throw new Error("Logr.log(): expects parameter logname of type String");return c.logs[a]||(c.logs[a]=new d(a,b||{})),c.logs[a]}},d=function(a,d){if("string"!=typeof a)throw new Error("Logr.Log: expects parameter logname of type String");this.logname=a,b(this,c.defaults,d||{}),this.init()};return d.prototype.init=function(){for(var b=["trace","debug","warn","info","error"],d=function(){},e=0;e<b.length;e++)this[b[e]]=a.console&&a.console.bind&&a.console[b[e]]&&this.getLevel()<=c.levels[b[e].toUpperCase()]?console[b[e]].bind(console,"["+this.logname+"]"):d},d.prototype.setLevel=function(b){a.sessionStorage&&a.sessionStorage.setItem("logr:"+this.logname+":level",b),this.level=b},d.prototype.getLevel=function(){return a.sessionStorage?a.sessionStorage.getItem("logr:"+this.logname+":level")||this.level:this.level},d.prototype.attach=function(b){var c,d=this;if(a.console&&a.console.group)for(c in b)b.hasOwnProperty(c)&&"function"==typeof b[c]&&"constructor"!==c&&d.wrap(b,c)},d.prototype.getExceptionLineNumber=function(a){var b=[];return a.stack&&a.sourceURL?(b=a.stack.match(/@.*/g),b?b[1]:""):a.stack&&a.fileName?(b=a.stack.match(/@.*/g),b?b[1]:""):a.stack&&a.number?(b=a.stack.match(/@.*/g),b?b[1]:""):a.stack?(b=a.stack.match(/\(.*\)/g),b?b[1]:""):""},d.prototype.wrap=function(b,d){var e,f=this;e=b[d],b[d]=function(){var g="";if(f.getLevel()<=c.levels.DEBUG){try{this.undef()}catch(h){g=f.getExceptionLineNumber(h)}try{a.console.groupCollapsed("["+f.logname+"] "+b.constructor.name+"."+d+"() "+g),a.console.log("arguments: ",[].slice.call(arguments)),value=e.apply(this,arguments)}catch(h){for(var i=15;i--;)a.console.groupEnd();return void a.console.error(h.stack)}return value&&a.console.log("return: ",value),a.console.groupEnd(),value}return e.apply(this,arguments)}},c});