/*! logr.js - v0.1.6 - eclifford <ericgclifford@gmail.com> - 2015-02-06 */!function(a,b){"function"==typeof define&&define.amd?define([],function(){return a.Logr=b(a)}):"undefined"!=typeof exports?module.exports=b(a):a.Logr=b(a)}(this,function(a){function b(a){for(var b,c,d=1,e=arguments.length;e>d;d++){b=arguments[d];for(c in b)hasOwnProperty.call(b,c)&&(a[c]=b[c])}return a}var c={version:"0.1.6",logs:{},defaults:{level:1},levels:{LOG:1,INFO:2,WARN:3,ERROR:4,NONE:9},setLevel:function(a){if(isNaN(a))throw new Error("Logr.setLevel(): expects parameter level of type Number");for(var b in c.logs)c.logs[b].setLevel(a)},log:function(a,b){if("string"!=typeof a)throw new Error("Logr.log(): expects parameter logname of type String");return c.logs[a]||(c.logs[a]=new d(a,b||{})),c.logs[a]}},d=function(a,d){if("string"!=typeof a)throw new Error("Logr.Log: expects parameter logname of type String");this.logname=a,b(this,c.defaults,d||{}),this.init()};return d.prototype.init=function(){for(var a=["log","info","warn","error"],b=function(){},d=0;d<a.length;d++)this[a[d]]=console&&console[a[d]]&&this.getLevel()<=c.levels[a[d].toUpperCase()]?Function.prototype.bind.call(console[a[d]],console,"["+this.logname+"]"):b;this.debug=this.log},d.prototype.setLevel=function(b){a.sessionStorage&&a.sessionStorage.setItem("logr:"+this.logname+":level",b),this.level=b,this.init()},d.prototype.getLevel=function(){return a.sessionStorage?a.sessionStorage.getItem("logr:"+this.logname+":level")||this.level:this.level},d.prototype.attach=function(a){var b,c=this;for(b in a)a.hasOwnProperty(b)&&"function"==typeof a[b]&&"constructor"!==b&&c.wrap(a,b)},d.prototype.getExceptionLineNumber=function(a){var b=[];return a.stack&&a.sourceURL?(b=a.stack.match(/@.*/g),b?b[1]:""):a.stack&&a.fileName?(b=a.stack.match(/@.*/g),b?b[1]:""):a.stack&&a.number?(b=a.stack.match(/@.*/g),b?b[1]:""):a.stack?(b=a.stack.match(/\(.*\)/g),b?b[1]:""):""},d.prototype.wrap=function(a,b){var d,e=this;d=a[b],a[b]=function(){var f="";if(e.getLevel()<=c.levels.LOG){try{this.undef()}catch(g){f=e.getExceptionLineNumber(g)}if(console.group){try{console.groupCollapsed("["+e.logname+"] "+a.constructor.name+"."+b+"() "+f),console.log("arguments: ",[].slice.call(arguments)),value=d.apply(this,arguments)}catch(g){for(var h=15;h--;)console.groupEnd();return void console.error(g.stack)}value&&console.log("return: ",value),console.groupEnd()}else console.log("["+e.logname+"] "+a.constructor.name+"."+b+"() "+f),value=d.apply(this,arguments);return value}return d.apply(this,arguments)}},c});